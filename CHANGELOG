commit dce594e272571092ee1f00c444f96b0500ea3c45
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Versionlock Ansible and Python to prevent incompatibilities
    
    For the immediate future, we will stick with Python 3.6.8 and Ansible 2.29.27
    There are other issues in the backlog to upgrade these.
    
    Fixes #82
    
    This work was performed for NASA GRC-ATF by WikiWorks per NASA Contract NNC15BA02B.

commit 84e08b0cbb7685df9d8d4a6ac48230123219d4c1
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Fix deploy errors on initial deploy
    
    Fixes #80 First-time deploy failure
    
    This work was performed for NASA GRC-ATF by WikiWorks per NASA Contract NNC15BA02B.

commit 58933f20125658e50a6f3be6fa197eadbf2af6ed
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Fix fatal recursion errors
    
    Working on Issue #80
    - Use loop to show the list of wikis
    - Eliminate the vars: repetition of what is already established fact
    
    This work was performed for NASA GRC-ATF by WikiWorks per NASA Contract NNC15BA02B.

commit 86230816f917873938ee76b2a4feb7b712ee4be5
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Finish dressing out the SAML Authentication role
    
    Fixes #74 Tested against Mocksaml.com
    
    - Use configuration variables from public.yml,
    - and setup defaults that work for NASA for $wgPluggableAuth_Config
    - templated into LocalSettings.php
    - Add commentary about using privatekey and certificate in Authsources.php
    - Add conditional on NameIDPolicy
    
    This work was performed for NASA GRC-ATF by WikiWorks per NASA Contract NNC15BA02B.

commit df820d7150be741647ccce081e79f909a512a010
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Remove the old 'remove Extension SimpleSamlAuth'
    
    This is very old, and confusing to still be here.
    
    This work was performed for NASA GRC-ATF by WikiWorks per NASA Contract NNC15BA02B.

commit f73c21608bb4d8607aa0c298c129728628c43cfa
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Fix default port for PHP-FPM
    
    The default port for PHP-FPM should be 9000
    
    9090 is used by many other services or applications
    On my stock Rocky Linux, 9090 is being used by systemd
    This work was performed for NASA GRC-ATF by WikiWorks per NASA Contract NNC15BA02B.

commit 0011a5d702153971317de38fcf3252414b8bfe52
Merge: 315364c 5c89037
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Merge remote-tracking branch 'nasa/grc-atf-dev' into REL1_39

commit 5c89037205ae34de14cb11cf6c9741b2156fa0d4
Merge: 1697c20 315364c
Author: Rich Evans <86021670+ndc-rkevans@users.noreply.github.com>
Commit: GitHub <noreply@github.com>

    Merge pull request #48 from freephile/REL1_39
    
    Merge latest tag of REL1_39 (tag 39.4.0) since last pull request was merged

commit 315364cc79e9c20d20bb48f800053d4a318a72d7
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Modify print_width in .editorconfig - but it doesn't seem to affect yamllint
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit e554ccf64eadb128ade3dd546a24f8079c79933f
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Fix 'create wiki' failure due to variable scoping
    
    include_tasks creates a whole new scope and so no variables are defined unless passed
    
    This is the real reason why fatal recursion was happening with create wiki without specifying wiki_id as an extra var.
    
    Fixes #48
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit 18871ab1f385dd819db2b2e22e4492f8b07ee3e0
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Lift restriction on composer version
    
    This allows composer to upgrade to the latest release
    Fixes #77
    Fixes security issues related to composer
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit 29f99dde648ab9ec7219507b84360a1ed28307a9
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Enable check mode for testing
    
    Work on issue #76
    
    remove duplicate set_fact in replication.yml
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit 79057619ac6ce25b94f764980bd1d94b73dbef23
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Add LocalSettings directive for Extension:SubPageList
    
    This **maybe** should go in MezaCoreExtensions.yml, but generally
    site-wide configuration should be in LocalSettings.php
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit 04413171657e14c3b1dcec975ec1512d5791a46d
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Add FIXME comment about composer
    
    See issue #71
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit e672dccb5763539f6acd199a17c2a473c2104193
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    SubPageList needs a wfLoadExtension
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit 0923618ff221da65301d9668f593a70df0dbfa65
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Upgrade SAML auth to use simpleSAMLphp 2.2.1
    
    This fixes #74
    
    Creates the administration web interface at https://localhost/simplesaml/admin
    
    Login credentials come from your secret.yml
    Setup comes from your public.yml
    See https://www.mediawiki.org/wiki/Meza/Setup_SAML_authentication
    
    config/defaults.yml
    - upgrade simpleSAMLphp library from 1.19.7 to 2.2.1
    - upgrade Extension:PluggableAuth to 7.0
    - upgrade Extension:simpleSAMLphp to 7.0
    
    saml/templates/config.php.j2
    - change array notation
    - add comments
    - use config variable with default for timezone
    - remove obsolete settings
    - update deprecated settings
    
    src/roles/apache-php/tasks/php-redhat8.yml
    - add php-sodium #  required for phpSimpleSAML
    
    src/roles/apache-php/templates/httpd.conf.j2
    - the simplesaml web entrypoint directory is changed to 'public' from 'www'
    - describe the possible use of SIMPLESAMLPHP_CONFIG_DIR env variable
    - remove 'Options All -Indexes' because it is meaningless in the context
    
    src/roles/saml/tasks/main.yml
    - update the URL for library download
    -  use the ansible variable saml_mw_extension_version for extension version
    - add a task to create the apache writable log directory
    
    src/roles/apache-php/templates/php-fpm-httpd.conf.j2
    - the simplesaml web entrypoint directory is changed to 'public' from 'www'
    
    src/roles/saml/templates/authsources.php.j2
    - change array notation
    - add comments
    - add explicit 'idp' => null when not defined
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit 5362af6af1af016b419c4ec13ea8d69784a90471
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Extension SubPageList upgraded from 1.6.1 to 3.0.0
    
    This fixes issue #70
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit 6ab981b8b46598fcd98c4bc4c4f4858e2b979af2
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Reformat: Wrap all comments at 120 characters
    
    Also remove trailing whitespace
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit d465e29d628bc565df4857f3d15712f44fa00e7a
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Delete errant swap file from repo
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit 74beb296510cd78f297ab46563b017dabec6818a
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Fix delete / restore functionality
    
    The automatic recovery of a wiki from it's backups was failing due to the
    'rebuild SMW' task in create-wiki-wrapper.
    
    Fixes #67
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit 7d9915dc26ee6bff01ecb0813760c2e2bcdba51d
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Add VS Code settings to .gitignore
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit 013a11b6841ecfac95afbeced031222df4932185
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Use Elasticsearch 7.10
    
    Fixes #65
    
    Start security work (singled-node is more secure, but this only works on monolith, with a single elasticsearch node)
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit 873258d3a7269bc2ee8885b6aa92f491360e28d9
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Add the --always option to git describe to avoid errors
    
    With --always, even if git can not find any tags, the commit hash will be used.
    
    Fixes #57
    meza --version will return something like
        Meza 39.1.0-7-gfc45add
        Commit fc45adddfa3efd308ab2dc4350c6315c5ef10858
        Mediawiki EZ Admin
    
    Also, fix typo in function name get_git_descripe_tags()
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit fc45adddfa3efd308ab2dc4350c6315c5ef10858
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Document all 53 functions in meza.py
    
    get_deploy_info() now raises a FileNotFoundError if the lockfile
    for the environment does not exist. Before it would just return
    false in that case.
    
    The 'meza update' command now uses the nasa repo as the canonical source
    instead of the enterprisemediawiki repo.
    
    Format 'import' statements one per line
    
    Fix mixed use of tabs and spaces
    
    Add some @FIXME comments about obsolete (CentOS) or unknown (Docker) functions.
    
    The context manager will automatically close your (open) file handle in
    write_vault_decryption_tmp_file().
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit 8ee9f63287f27f6a24ccc9f455d97da830f6fbb4
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Semantic Dependency Updater - new home / disabled
    
    SDU is temporarily disabled. The repo URL has changed, but
    for some odd reason deploys seem to hang on this specific
    extension during git clone.
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit b76d9517c1cee328df69dc4e597baebbb873084d
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Fix thumbnail generation + add webp support
    
    Fixes issue #62 thumbnail generation by letting MediaWiki
    know where to find thumb.php
    $wgThumbnailScriptPath = "$wgScriptPath/thumb.php";
    
    Additionally, we changed the definition of $wgFileExtensions
    so as to **merge** Meza customizations as additions to what is
    supported by default - essentially adding webp support.
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit 8edbf4ab6686f43a56be79fd4e402047fbb20493
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Fixe the compiled templates ownership issue
    
    Fixes Widgets issue #61
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit cd5ad2399918169722a4fe8459302d784e6ae88a
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Update some integration test scripts
    
    Fix the image-check script domain handling for 'localhost'.
    Pipe output to jq for pretty printing diagnosic output.
    Remove obsolete Parsoid check.
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit 957a0efe969a5904b4858641d41a6ef06656bfb7
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Create a CHANGELOG as a de-minimus form of Release Notes
    
    Fixes issue #54
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit d253642c5ada7f3d904f4e0c0ba99159489b066d
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Add some directories to gitignore
    
    Ignore the 'venv' directory for any local Python Virtual Env setup.
    Ignore anything in 'roles' that starts with 'geerlingguy' because
    those will come from Ansible Galaxy aka 3rd-party repos.
    
    Add comment to ansible.cfg about the 'roles_path' variable.
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit 60d9bb0e599ac6927ed641c4d10311c0aecaa412
Merge: 383f4c8 1697c20
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Merge remote-tracking branch 'nasa/grc-atf-dev' into REL1_39

commit 1697c20fcf34866bf92bc816091e98546d4d1fe0
Author: Rich Evans <86021670+ndc-rkevans@users.noreply.github.com>
Commit: GitHub <noreply@github.com>

    Add a "Section 508 Info" link to the footer via LocalSettings.php template
    
    Section 508 Compliance and Digital Accessibility compliance information of required by many organizations.
    
    Meza admins can tailor the exact content via a "Mediawiki:Section508compliance" system message page in the wiki.

commit 383f4c8a4144cda5c1300080fdac78c94f39c1c2
Author: Rich Evans <86021670+ndc-rkevans@users.noreply.github.com>
Commit: GitHub <noreply@github.com>

    make sure widgets compipled templates folder is owned by meza-ansible to avoid local changes error when updating

commit 81ac9659f7aab3ea53ce93d8319d32ed9b7d33a5
Author: Rich Evans <86021670+ndc-rkevans@users.noreply.github.com>
Commit: GitHub <noreply@github.com>

    restore force debug to false

commit e0fcbc4f05a18cbbd256375af864d41c2c81d89b
Merge: f0dba02 a4fadf4
Author: Rich Evans <86021670+ndc-rkevans@users.noreply.github.com>
Commit: GitHub <noreply@github.com>

    Merge pull request #45 from freephile/REL1_39
    
    Fixes 'Create Wiki' playbooks with updated MediaWiki DB schema plus .smw.json tweaks

commit a4fadf47037c4f43c3cbea396ae01e8eebf83d17
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    ansible-lint code health changes
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit a044cfec6663fc895d6a7d0ef998944804400f6b
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    $wgShellLocale is obsolete as of REL1_38
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit 45270d4ebc690c37a619464acc0aacbb36d5c79c
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Final fixes for .smw.json and create wiki bugs
    
    Fixes #44 by moving the .smw.json file to the 'conf-meza' hierarchy
    
    Fixes #48 by refreshing mediawiki-table.sql
    @todo Use the source distributed version to automatically
    be up-to-date. It is in mediawiki/maintenance/tables-generated.sql
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit 17f7faefc25f2a9827df1d58a5143fcacfbfb857
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    yamllint code health syntax and formatting changes
    
    Increase conformance to accepted YAML parser rules.
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit f0dba0223b31fcfab279c339578d0a8124da662c
Merge: e3228e3 1e91f9e
Author: Rich Evans <86021670+ndc-rkevans@users.noreply.github.com>
Commit: GitHub <noreply@github.com>

    Merge pull request #44 from freephile/REL1_39
    
    Upgrade Meza to MediaWiki REL1_39 and PHP 8.1

commit 1e91f9ed730b7c4c60b8a9d77462dd8b25f0ade9
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Fix permission problems + naming in .smw.json directory
    
    Fixes issue #44 "Ensure .smw.json has a home"
    
    The permission problems stem from the fact that a local userX can run ad-hoc shell scripts that will want to read/write; a deploy will read-write as user meza-ansible and of course the web server process will read-write as apache. So all these users and groups can be handled with meza-ansible:wheel
    
    The directory naming problem stems from the choice to use the wgDBname variable instead of the "wiki id". Wiki ID is a better choice for **wiki** related config data directory; and it's also easier to use over db name because the latter is a composed value, not a simple string.
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit 4b0d76aa055f58a408cd384b501673b45cfce328
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Ensure .smw.json has a home
    
    This fixes issue #44
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit 704937926ef9014f549353a322cfb0c11b647c5e
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Feature: Short URLs
    
    Completes Issue #28
    Remove redundant wgArticlePath that was overriding the correct setting.
    Also add wgUsePathInfo
    https://www.mediawiki.org/wiki/Manual:$wgUsePathInfo
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit 6ca76db3f3bc57af9248aaf684c355220e2df70c
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Feature: Short URLs
    
    This fixes issue #28
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit c8e66653d3640c5068df6823e1acac4befc13a5b
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Remove commented line
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit afb41e88b8ea6f16a65c141111c61c897adf0fc3
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Make 'enforce_meza_version' undefined; with comment
    
    This variable was initially undefined, and "turning it on" will
    prevent deploys if your meza source is not a clean, matching checkout.
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit a02a80ce99a8997f117cd0f59403bbb42f6cafde
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Upgrade PHP to 8.1
    
    This fixes issue #13
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit cd60cf11990ca27b071ead128099e9e167f251d4
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Example of Remi repo usage from geerlingguy
    
    Issue #27
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit f2e7e1e88914f6810a3f8bb72249db0255897044
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Minor yaml lint fixes
    
    Part of Issue #17
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit f3ed0400931dde327679c8e43eb8f3e76cc9c18d
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Add 'force' option to be able to 'overwrite local git changes'
    
    This completes issue #25
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit f7a5cece8d7352325c662192260ceab374e02e7b
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Make MediaWiki core branch depth a configuration value
    
    Solves issue #24
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit 602587fedb4bba31aa36110781f3bfe1c1af171d
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Make the Meza project repository a configuration value
    
    This resolves issue #22
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit d95b68242ee3e883bd721f1157fee06b61d56b04
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Update Extension Flow for PHP8.1 compatibility
    
    Add additional configuration settings while fixing deprecation warnings in issue#26
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit 28f314e6b75e01b38e64fdd42f24d4d3af4fd3fd
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    git repo URL and branch name as BASH variables
    
    Create Bash variables for getmeza.sh and source them from the ENVIRONMENT;
    so that administrators can override them at run-time; or use a default.
    
    This addresses part of issues #22 and #23
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit 4cbcd64477fd1e012d9002fca547d790bdd6918b
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Upgrade SimpleBatchUpload to 2.x for PHP 8.1 compatibility
    
    Incompatibility revealed in upgrading PHP #13
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit b6daa75b49c4b847c0efc48a1c9cb6aa8c879c33
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Use fully qualified built-in module name for dnf
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit 0db71f8e65c04cb359823fe16a84e5879673236a
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Add .yamllint configuration
    
    Fix one error - missing space before comment across multiple files
    Initial configuration allows for 140 char line with only a warning
    Partial, initial fix for issue #17
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit d2fe7d922d829bc941ba49bde077d26f037e99d4
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Fix 50 yamllint errors in Base role
    
    Fix indentation
    Fix line-length
    Fix comments
    Fix spaces
    Fix truthy values
    Clarify logic of conditionals
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit 972d5ca04592a24bc44aa0f65ff90b22059666b5
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Reorder dnf set-enabled, install per docs
    
    Not sure it matters, but the order copied from the docs
    https://docs.fedoraproject.org/en-US/epel/#_almalinux_8_rocky_linux_8
    is
    dnf config-manager --set-enabled powertools
    then
    dnf install epel-releaase
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit cdef0c41d5e80e7721ef4c1034d7f856d9c2ced9
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Add EditorConfig to this project
    
    Formally addresses the age-old problem of tabs vs spaces.
    
    Fixes Issue #14
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit 48782c27622af21371f473d478089fe5494181cd
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Use 'false' for negative  truthy values
    
    Although Ansible accepts a broad range of values for boolean variables
    Use true/false to be compatible with ansible-lint
    https://docs.ansible.com/ansible/latest/playbook_guide/playbooks_variables.html
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit 817f8f058f10811570cbd66af577d11a68947782
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Use 'true'/'false' for truthy values
    
    Although Ansible accepts a broad range of values for boolean variables
    Use true/false to be compatible with ansible-lint
    https://docs.ansible.com/ansible/latest/playbook_guide/playbooks_variables.html
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit 286147329f3d85a845182b9f186706d103d84afe
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Fix some yamllint and ansible-lint warnings
    
    Fix truthy values, spacing, indentation, line length
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit c5685249f0bf241d912e5f28ef81e5a24bfc92e7
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Fix fatal indentation errors
    
    Errors were indicated by ansible-lint
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit 62e2d784ce532ec98ac53251f36ed99187878401
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Use fully qualified name  ansible.builtin.debug
    
    https://docs.ansible.com/ansible/latest/collections/ansible/builtin/debug_module.html
    
    We recommend you use the Fully Qualified Collection Name (FQCN)
    ansible.builtin.debug for easy linking to the module documentation and
    to avoid conflicting with other collections that may have the same
    module name.
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit cd83e120534ef460b0cafe554e8b3caac4febb64
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Upgrade Semantic MediaWiki to 4.1.3
    
    This is a patch release. Thus it contains only bug fixes. No new
    features or breaking changes.
    
    This release contains security patches and improves support for modern
    PHP and MediaWiki. Upgrading is recommended for all users.
    
    See docs/releasenotes/RELEASE-NOTES-4.1.3.md
    
        Fixed several XSS issues
        Improved support for PHP 8.1 and above
        Improved support for MediaWiki 1.39 and above
        Various minor performance improvements, especially for multi-database setups
        Fixed Special:PageProperty (thanks thomas-topway-it)
        Improved compatibility with OpenSearch and recent versions of ElasticSearch
        Improved PostgreSQL compatibility
        Added ability to disable the upgrade key check via the smwgIgnoreUpgradeKeyCheck setting
        Improved various interface messages
        Translation updates
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit e61e9896111be58af4577f68692290130d2beef6
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Upgrade Maps to 10.1.1
    
    Fixes deprecated SkinTemplateNavigation hook as well as
    deprecated Content::fillParserOutput()
    
    The 10.x series of Maps supports MediaWiki 1.39.x
    See Release Notes
    https://github.com/ProfessionalWiki/Maps/blob/10.1.1/RELEASE-NOTES.md
    and
    Commit 257381b926477c486f3341497752485290530b87
    https://github.com/ProfessionalWiki/Maps/commit/257381b926477c486f3341497752485290530b87
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit ccd118c8aae17063bf06910f23a00e593943514c
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Switch PageForms to latest version (5.6.3)
    
    Fixes Deprecation of SkinTemplateNavigation hook
    fixed by commit 46beadb
    https://github.com/wikimedia/mediawiki-extensions-PageForms/commit/46beadb44b4dacc14923525f710abe1dfc9d2eb9
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit c2bc0a665b28809228e2146e220ad04fb30b2205
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Use master branch for Variables extension
    
    paraphrasing https://www.mediawiki.org/wiki/Extension:Variables
    
    To avoid deprecation warning about the missing #var_final parser
    function in MediaWiki 1.39+, please update to the latest version
    (master branch for now).
    
    See task T276627 and task T250963 for further information.
    
    The Variables extension must be enabled so that a project can be
    pursued to replace all the on-wiki usage of the extension.
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit 4f9ea657beb1feb56cd71753d61764f4f7366850
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Revert "Variables extension - disabled"
    
    This reverts commit c70ed42e32c327d0224c8d33a180e50b0d9aa5b2.

commit dbc68b66d4e8f04865bfdb6c1f508425a14e3944
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Update WhosOnline for compatibility with REL1_39
    
    The REL1_39 branch of the extension still produces the error below -
    which was fixed two years ago, but not backported.
    
    Use the 'master' branch for now.
    
    Deprecated
    : Use of User::getOption was deprecated in MediaWiki 1.35.
    [Called from WhosOnlineHooks::onBeforePageDisplay in
    /opt/htdocs/mediawiki/extensions/WhosOnline/includes/WhosOnlineHooks.php
    at line 27]
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit 3ca303bd75c2019840d6ae481e9d3e8cf9e5943c
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Fix database backup function
    
    Quote mysql password option to avoid special characters being interpreted by the Ansible shell module.
    
    In the source_wiki_exists_check task of /src/roles/remote-mysqldump/tasks/main.yml:104 you could
    end up with a command like the following:
    mysqlshow -u wiki_app_user -p6K2s9n!XTtebd$GUfy$8YtGVIcZYXA@d wiki_test3 | grep -v Wildcard | grep -o wiki_test3\n
    
    The password has ! and $ in it - both shell special characters. https://mywiki.wooledge.org/BashGuide/SpecialCharacters
    
    We avoid interpretation by quoting the password value with single quotes.
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit 2367a8265719ecff1dc7031e1a5d7cd4ab5ade7e
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Enable Ansible debugger by default
    
    enable_task_debugger = true added to ansible.cfg for easy debugging in play logs
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit e3228e3c6bad04d34b6314a8d934fac25960ceec
Author: Rich Evans <86021670+ndc-rkevans@users.noreply.github.com>
Commit: GitHub <noreply@github.com>

    Fix Widgets folder permissions tasks
    
    moved the 2 tasks that test for the existence of the Widgets/complied templates folder and then, if it exists, changes the permissions to apache:apache - moved them to AFTER the global permissions fix for the entire mediawiki folder
    
    and - made the chown task recursive to apply to all the compiled templates

commit 7cac79a9dde2e541ab1238c6362c4c3cd51065bf
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Update Semantic Extra Special Properties extesion
    
    Use v3.0.5 for bugfixes and compatibility with REL1_39
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B

commit 20d152c57b9936c32bdc0aaabfb2ec794bbc1700
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Fix Issue #2 Remove GitHub Actions
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit da17c4590b201a7041b6fa47317af9b3583efed2
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    change raw_input() to input() for Python 3.x
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit 4c31903865f1f410b7e6488661c0dbb2a6b57eaf
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Fix inconsistent use of tabs and spaces
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit de507d4aa343fdff7e62353089dc4cad965a52a4
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Fix issue #7 TypeError: must be str, not bytes
    
    By adding .decode() to the byte objects, we can concatenate with strings in Python 3.6.8
    
    Later versions of subprocess.check_output() can return text if you want, but not in this version.
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit dffc4cd49106d4eb59d91360ca246fe3fb7bedc4
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Change Elasticsearch repo to disabled by default
    
    We want to avoid accidentally updating elasticsearch
    in a simple 'dnf update' so make sure the Elastic repo
    is disabled by default. And, use the 'enablerepo' option in the task to install elasticsearch.
    
    Make sure the Elasticsearch repo key is installed; from the correct artifact location
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit cee39d48183c18739ba23863cd59c4788e3c3bbd
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    lint site playbook
    
    lowercase truthy values to (true|false)
    remove blank lines
    remove "most" comments
    remove double quotes where unnecessary
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit 4598d894abe4d2c7b6b6011c4c3db152547ab91d
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Add sample script for checking an Upgrade
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit 61092969e188dcd8a8577a19a598e2760211fbbb
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Upgrade Elasticsearch to 7.x from 6.x
    
    Comment out the xpack.ssltruststore settings in elasticsearch.yml
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit 755bbcb0401b24cd8aeb1c44832ed2e74e4526de
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Semantic MediaWiki
    
    Upgrade from 4.0.1 to 4.1.2 and set .smw.json path
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit c70ed42e32c327d0224c8d33a180e50b0d9aa5b2
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Variables extension - disabled
    
    Should be permanently removed; disabled to quiet the deprecation notices
    in debugging. Can re-enable and work to replace functionality
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit c6710dc382276d233f67568073360fd27efa1b83
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Header Footer
    
    switch to WMF repo, REL1_39 branch
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit d3ef6c1fd2d4e012ba0adcc02927e4fd62318175
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Watch Analytics - switch to WMF master
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit 936ba9eab291692f02efc160fbb1c1097b0e2929
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Talk Right & Wiretap removed
    
    These extensions are not maintained presently
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit 19edfeb994058d9f73e74585a5a02120f653ff87
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    HTML5 Mediator
    
    disable (comment) because it is unmaintained and incompatible
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit faf0520145ad89b8e459bd648d5113d0f413dbf1
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    SimpleMathJax
    
    remove legacy_load directive
    CHANGE repository URL to the community (jmnote)
    and 'main' branch
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit fd3701fe18ca4400031eae4b36d41e0c7078189c
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Media Functions
    
    remove legacy_load directive
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit 74f26f217db5a4de8738fcdace15bcb0656b859e
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Widgets
    
    remove legacy_load directive
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit a171341aec06092b03efe755b849087dd1f5544c
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Pipe Escape
    
    remove legacy_load directive
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit 277d3901706a318e09d837a1e83e6417020b01a7
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Semantic Drilldown
    
    use alternative forked repo (freephile) until pull request is merged upstreamhttps://github.com/SemanticMediaWiki/SemanticDrilldown/pull/75
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit 420fd5e4233d2b1871acbec15cfcc9aa832bd6ba
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Contribution Scores
    
    remove legacy_load directive; improve configuration
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract  NNC15BA02B.

commit 876b8ac9d13f48fcc229aab01ec866bcaec98f68
Author: Greg Rundlett <greg.rundlett@gmail.com>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    Major upgrade of Meza for MediaWiki 1.39
    
    Upgrade default version of MediaWiki to REL1_39
    
    This work  was performed for NASA GRC-ATF by WikiWorks per NASA Contract
    NNC15BA02B.

commit f8efb6fc23fd305850490501bdaf769b41e90de1
Author: James Montalvo <edwin.j.montalvo@nasa.gov>
Commit: Greg Rundlett <greg.rundlett@gmail.com>

    fix: load balancer variable naming
    
    Commit 45c7cb04 changed how load balancer groups are accessed. This was
    a good change, but some of the load balancer variables were changed
    accidentally. e.g.
    
    load_balancers_nonmeza --> load_balancers_meza_nonmeza
    
    This "_meza_nonmeza" ending (a) was applied inconsistently and (b)
    doesn't make sense as a naming convention.
    
    This commit fixes naming.
